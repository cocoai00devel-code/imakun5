<svg width="800" height="800" viewBox="0 0 600 300" xmlns="http://www.w3.org/2000/svg" id="main-svg">
    <defs>
        <linearGradient id="rainbow-flows" x1="0%" y1="0%" x2="100%" y2="0%">
            <stop offset="0%" stop-color="red" /><stop offset="14%" stop-color="orange" />
            <stop offset="28%" stop-color="yellow" /><stop offset="42%" stop-color="green" />
            <stop offset="57%" stop-color="blue" /><stop offset="71%" stop-color="indigo" />
            <stop offset="85%" stop-color="violet" /><stop offset="100%" stop-color="red" />
        </linearGradient>
        <linearGradient id="rainbow-fill" x1="0" y1="0" x2="600" y2="0" gradientUnits="userSpaceOnUse"><stop offset="0%" style="stop-color:red" /><stop offset="16.6%" style="stop-color:orange" /><stop offset="33.2%" style="stop-color:yellow" /><stop offset="49.8%" style="stop-color:green" /><stop offset="66.4%" style="stop-color:blue" /><stop offset="83.0%" style="stop-color:indigo" /><stop offset="100%" style="stop-color:violet" /><animateTransform attributeName="gradientTransform" type="translate" values="300; 40; -300; 300" dur="9.8s" repeatCount="indefinite" /></linearGradient>
        <linearGradient id="rainbow-nose" x1="0%" y1="0%" x2="100%" y2="0%"><stop id="nose-stop1" offset="0%" stop-color="red" /><stop id="nose-stop2" offset="100%" stop-color="orange" /><animateTransform attributeName="gradientTransform" type="translate" values="-2 7; 0.9 1 ; -2 7" dur="9s" repeatCount="indefinite"/></linearGradient>

        <linearGradient id="rainbow-flow" x1="0%" y1="0%" x2="100%" y2="0%"><stop offset="0%" stop-color="red" /><stop offset="14.28%" stop-color="orange" /><stop offset="28.56%" stop-color="yellow" /><stop offset="42.84%" stop-color="green" /><stop offset="57.12%" stop-color="blue" /><stop offset="71.4%" stop-color="indigo" /><stop offset="85.68%" stop-color="violet" /><stop offset="100%" stop-color="red" /> <animateTransform attributeName="gradientTransform" type="translate" values="1 7; -0.8 1; 1 7" dur="10" repeatCount="indefinite"/></linearGradient>
        
        <linearGradient id="rainbow-fill3" x1="0%" y1="0%" x2="100%" y2="0%"><stop offset="0%" style="stop-color:#ff7ada" /><stop offset="10%" style="stop-color:red" /><stop offset="14%" style="stop-color:red" /><stop offset="16.9%" style="stop-color:orange" /><stop offset="25%" style="stop-color:orange" /><stop offset="33.4%" style="stop-color:yellow" /><stop offset="40%" style="stop-color:yellow" /><stop offset="49.1%" style="stop-color:green" /><stop offset="55%" style="stop-color:green" /><stop offset="66.8%" style="stop-color:blue" /><stop offset="70%" style="stop-color:blue" /><stop offset="83.6%" style="stop-color:indigo" /><stop offset="87%" style="stop-color:indigo" /><stop offset="95%" style="stop-color:violet" /><stop offset="97%" style="stop-color:violet" /><stop offset="100%" style="stop-color:#ff7ada" />
            <animateTransform attributeName="gradientTransform" type="translate" from="-1 0" to="-1 0"  dur="5s" repeatCount="indefinite"/>
        </linearGradient>

        <linearGradient id="rainbow-flow2" x1="0%" y1="0%" x2="100%" y2="0%">
            <stop offset="0%" stop-color="red" /><stop offset="14%" stop-color="orange" /><stop offset="28%" stop-color="yellow" /><stop offset="42%" stop-color="green" /><stop offset="57%" stop-color="blue" /><stop offset="71%" stop-color="indigo" /><stop offset="85%" stop-color="violet" /><stop offset="100%" stop-color="red" />
            <animateTransform attributeName="gradientTransform" type="translate" values="1 0; -1 0; 1 0" dur="8s" repeatCount="indefinite"/>
        </linearGradient>
        
        <!-- <radialGradient id="blue-ellipse-bg" cx="50%" cy="50%" r="50%">
            <stop offset="0%" stop-color="#ADD8E6" /><stop offset="100%" stop-color="#191970" />
        </radialGradient> -->
        <radialGradient id="blue-ellipse-bg" cx="50%" cy="50%" r="50%" fx="40%" fy="30%" gradientUnits="objectBoundingBox"><stop offset="0%" stop-color="#ADD8E6" /><stop offset="50%" stop-color="#4682B4" /><stop offset="100%" stop-color="#191970" /></radialGradient>
        

          <polygon id="star-shape" points="50,0 61,35 98,35 68,57 79,91 50,70 21,91 32,57 2,35 39,35" scale="0.1"/>
      </defs>
        <style>
            
            /* SVG内部用スタイル */
            svg { cursor: none; }
            .star-tip {
                clip-path: polygon(50% 0%, 61% 35%, 98% 35%, 68% 57%, 79% 91%, 50% 70%, 21% 91%, 32% 57%, 2% 35%, 39% 35%);
                fill: url(#rainbow-flow2);
                filter: drop-shadow(0 0 8px #ff47d8);
            }
            
            .particle {
                clip-path: polygon(50% 0%, 61% 35%, 98% 35%, 68% 57%, 79% 91%, 50% 70%, 21% 91%, 32% 57%, 2% 35%, 39% 35%);
                pointer-events: none;
            }
            /* 1. 目の点滅 */
        @keyframes blink {
            0%, 95%, 100% { ry: 12px; }
            97% { ry: 0.1px; } 
        }
        :root { --mouse-x: 300; --mouse-y: 200; }
        #iris-left, #iris-right {
        --t-x: calc(var(--mouse-x) * 1px);
        --t-y: calc(var(--mouse-y) * 1px);
        --o-x: calc(var(--eye-x) * 1px);
        --o-y: calc(var(--eye-y) * 1px);
        --angle: atan2(var(--t-y) - var(--o-y), var(--t-x) - var(--o-x));
        transform: translate(var(--o-x), var(--o-y)) 
                   translate(calc(cos(var(--angle)) * 8px), calc(sin(var(--angle)) * 8px));
        transform-box: fill-box;
        transform-origin: center;
        transition: transform 0.1s ease-out;
      }
        
        
        <!-- #eye-left {
            animation: blink 3s infinite steps(1); 
            transform-origin: 245px 52px center; 
            /* 追尾の滑らかさ設定 */
            transition: transform 0.15s ease-out; 
        }
        #eye-right {
            animation: blink 3s infinite steps(1); 
            transform-origin: 315px 52px center; 
            /* 追尾の滑らかさ設定 */
            transition: transform 0.15s ease-out; 
        }
        /* 全体のカーソルを消す */ -->

    /* 1. 視線の動きを定義（8の字を描くように動く） */
        @keyframes auto-move {
        0%, 100% { --mouse-x: 300; --mouse-y: 200; } /* 中央 */
        20%      { --mouse-x: 500; --mouse-y: 150; } /* 右上 */
        40%      { --mouse-x: 500; --mouse-y: 250; } /* 右下 */
        60%      { --mouse-x: 100; --mouse-y: 150; } /* 左上 */
        80%      { --mouse-x: 100; --mouse-y: 250; } /* 左下 */
        }
        #iris-left, #iris-right {
      /* あなたの計算ロジック */
      --t-x: calc(var(--mouse-x) * 1px);
      --t-y: calc(var(--mouse-y) * 1px);
      --o-x: calc(var(--eye-x) * 1px);
      --o-y: calc(var(--eye-y) * 1px);
      --angle: atan2(var(--t-y) - var(--o-y), var(--t-x) - var(--o-x));

      /* 座標配置 + 計算された角度への移動 */
      transform: translate(var(--o-x), var(--o-y)) 
                 translate(calc(cos(var(--angle)) * 8px), calc(sin(var(--angle)) * 8px));

      /* アニメーションの適用：視線移動と瞬き */
      animation: auto-move 6s infinite ease-in-out;

      transform-box: fill-box;
      transform-origin: center;
    }

    /* 左右の初期位置 */
    #iris-left  { --eye-x: 245; --eye-y: 152; }
    #iris-right { --eye-x: 315; --eye-y: 152; }

        #eye-left, #eye-right {
        transform-box: fill-box;
        animation: blink 3s infinite steps(1); 
        /* 追尾の滑らかさ設定 */
        transition: transform 0.15s ease-out; 
    }

    #eye-left {
        transform-origin: 245px 52px; 
    }

    #eye-right {
        transform-origin: 315px 52px; 
    }
        
        
        #eye-left, #eye-right {
            transform-box: fill-box;
        }

        /* 魔法のステッキ演出 */
        /* 魔法のステッキ演出 */
        #magic-stick-group { pointer-events: none; }
        <!-- #magic-stick-rect {
        
                fill: linear-gradient(90deg, #c39bff, #ff7ada);
                stroke: white;
                stroke-width: 0.5;
            
            fill: url(#rainbow-fill3);
            filter: drop-shadow(0 0 4px rgba(255,150,255,0.8));
        } -->
        <!-- #magic-stick-rect {
            /* 枠線の設定 */
            stroke: white;
            stroke-width: 0.5;
            
            /* フィルター：光彩（グロー）効果 */
            filter: drop-shadow(0 0 4px rgba(255, 150, 255, 0.8));

            /* アニメーションの設定：3秒かけて往復（infinite alternate） */
            animation: magic-glow 3s ease-in-out infinite alternate;
        }
        @keyframes magic-glow {
            0% {
                /* 最初は指定されていた単色/簡易グラデーションのイメージ */
                fill: #c39bff; 
            }
            100% {
                /* 後半は定義済みのレインボーグラデーション */
                fill: url(#rainbow-fill3);
            }
        } -->

        <!-- #magic-stick-rect {
            /* 共通設定：枠線 */
            stroke: white;
            stroke-width: 0.5;

            /* アニメーション：3秒周期で「状態A」と「状態B」を交互に繰り返す */
            animation: magic-animation 3s ease-in-out infinite alternate;
        }

        @keyframes magic-animation {
            /* 状態A：最初に提示された紫・ピンク系のイメージ */
            0% {
                fill: #c39bff; /* CSSで制御しやすい単色、または開始色 */
                filter: drop-shadow(0 0 2px rgba(195, 155, 255, 0.6));
            }

            /* 状態B：定義済みのレインボーグラデーションと強い光り */
            100% {
                fill: url(#rainbow-fill3);
                filter: drop-shadow(0 0 8px rgba(255, 122, 218, 0.9));
            }
        } -->
        <!-- #magic-stick-rect {
              stroke: white;
              stroke-width: 0.5;
              
              /* アニメーション：全体で9秒（各色をゆっくり見せる） */
              animation: magic-seamless-loop 8s ease-in-out infinite;
          }

          @keyframes magic-seamless-loop {
              0%, 100% {
                  /* スタートとラスト：紫 */
                  fill: #c39bff;
                  filter: drop-shadow(0 0 4px rgba(195, 155, 255, 0.7));
              }
              33% {
                  /* 中間1：ピンクに変化 */
                  fill: #ff7ada;
                  filter: drop-shadow(0 0 6px rgba(255, 122, 218, 0.7));
              }
              66% {
                  /* 中間2：レインボーグラデーションへ */
                  fill: url(#rainbow-fill3);
                  filter: drop-shadow(0 0 10px rgba(255, 150, 255, 0.9));
              /* 85%から0%にかけて、また紫へ自然に戻る */
              }
          } -->

          #magic-stick-rect {
              stroke: white;
              stroke-width: 0.5;
              
              /* 10秒かけて全行程をゆっくり1周 */
              animation: magic-seamless-loop 10s ease-in-out infinite;
          }

          @keyframes magic-seamless-loop {
              0%, 100% {
                  /* ピンク：ここからスタート */
                  background: linear-gradient(90deg, #c39bff 0%, #ffb3ec 50%, #ff7ada 100% );
                  fill: #ff7ada;
                  filter: drop-shadow(0 0 4px rgba(255, 122, 218, 0.7));
              }
              30% {
                  /* 紫：中間地点 */
                  background: linear-gradient(90deg, #c39bff 40%, #ffb3ec 100%, #ff7ada 40% );
                  fill: #c39bff;
                  filter: drop-shadow(0 0 6px rgba(195, 155, 255, 0.8));
              }
              60%, 85% {
                  /* 7色レインボー：ここでSVGの動きがメインになる */
                  ackground: linear-gradient(90deg, #c39bff 100%, #ffb3ec 30%, #ff7ada 0% );
                  fill: url(#rainbow-fill);
                  filter: drop-shadow(0 0 12px rgba(255, 150, 255, 0.9));
              }
          }
        #magic-star-head {
            fill: white;
            filter: drop-shadow(0 0 4px #ff47d8);
            animation: star-glow 1s ease-in-out infinite alternate;
        }
        
        @keyframes star-glow {
            from { transform: scale(0.1) translate(-50px, -50px); filter: brightness(2); }
            to { transform: scale(0.25) translate(-45px, -50px); filter: brightness(2.5); }
        }
        </style>
    

<path
        d="M 50 200 A 250 250 0 0 1 550 200"
        fill="none"
        stroke="url(#rainbow-flow)"
        stroke-width="5"
        stroke-linecap="round"
    />

    <ellipse cx="245" cy="52" rx="20" ry="25" fill="white" stroke="url(#rainbow-fill)" stroke-width="2"/>
    <ellipse cx="315" cy="52" rx="20" ry="25" fill="white" stroke="url(#rainbow-fill)" stroke-width="2"/>

    <ellipse id="eye-left" class="iris-left" cx="245" cy="52" rx="5" ry="12" fill="url(#rainbow-fill)" stroke="url(#rainbow-flow)" stroke-width="1.5"/>
    <ellipse id="eye-right" class="iris-right" cx="315" cy="52" rx="5" ry="12" fill="url(#rainbow-fill)" stroke="url(#rainbow-flow)" stroke-width="1.5"/>
    
    <line id="rain-line1" x1="30" y1="80" x2="180" y2="110" stroke="url(#rainbow-fill)" stroke-width="3" />
    <line id="rain-line3" x1="30" y1="180" x2="180" y2="150" stroke="url(#rainbow-fill)" stroke-width="3"/> 
    <line id="rain-line4" x1="340" y1="110" x2="503" y2="80" stroke="url(#rainbow-fill)" stroke-width="3" />
    <line id="rain-line6" x1="340" y1="150" x2="520" y2="180" stroke="url(#rainbow-fill)" stroke-width="3" />

     <line id="rain-line7" x1="280" y1="100" x2="280" y2="150" stroke="url(#rainbow-fill)" stroke-width="3" />
    <line id="rain-line5" x1="340" y1="130" x2="520" y2="130" stroke="url(#rainbow-fill)" stroke-width="3" />
    <line id="rain-line2" x1="30" y1="130" x2="180" y2="130" stroke="url(#rainbow-fill)" stroke-width="3"/>
    
    <circle id="nose" cx="280" cy="85" r="14" fill="url(#rainbow-nose)" stroke="url(#rainbow-fill2)" stroke-width="2.5" />

    <text x="105" y="82" font-family="Arial, sans-serif" font-size="46" font-weight="1.5" fill="url(#rainbow-flow)" >
    K  S -      
    </text>
    <text x="215" y="98" font-family="Arial, sans-serif" font-size="96" font-weight="1.5" fill="url(#rainbow-flow)" transform="rotate(0 30 50)"> 
    9      
    </text>
    <text x="290" y="94" font-family="Arial, sans-serif" font-size="96" font-weight="1.5" fill="url(#rainbow-flow)" >
    0      
    </text>
    <text x="360" y="92" font-family="Arial, sans-serif" font-size="96" font-weight="1.5" fill="url(#rainbow-flow)" >
    3    
    </text>
    <g id="particle-group"></g>

    <!-- <g id="magic-stick-group">
        <rect width="140" height="12" rx="6" fill="#ffb3ec" transform="translate(-140, 0) rotate(-30, 140, 6)" />
        <rect id="star-anchor" width="36" height="36" class="star-tip" x="-18" y="-18" />
    </g> -->
    <g id="magic-stick-group">
        <!-- <rect id="magic-stick-rect" width="100" height="12" rx="8" fill="#ffb3ec" transform="rotate(-30) translate(-100, -4)" /> -->
        <svg width="200" height="100" viewBox="0 0 200 100" style="overflow: visible;">
        <rect 
            id="magic-stick-rect" 
            style="
            width: 140px;
            height: 12px;
            background: linear-gradient(90deg, #c39bff 0%, #ffb3ec 50%, #ff7ada 100% );
            border-radius: 999px;
            pointer-events: none;
            transform-origin: right center;
            /* positionの代わりにtransformで位置と回転を同時に指定 */
            transform: translate(-120px, 12px) rotate(-30deg);
            box-shadow: 0 0 6px rgba(255, 140, 255, 0.6), inset 0 0 3px rgba(255, 255, 255, 0.8);
            " 
        />
        </svg>
        <use href="#star-shape" id="magic-star-head" />
        <rect id="star-anchor" width="36" height="36" class="star-tip" x="-18" y="-18" />
    </g>

    <script>
    <![CDATA[
        const svg = document.querySelector('svg');
        const colors = ["red", "orange", "yellow", "green", "blue", "indigo", "violet"];
        const eyes = [document.getElementById("eye-left"), document.getElementById("eye-right")];
        const stickGroup = document.getElementById("magic-stick-group");
        const starAnchor = document.getElementById("star-anchor");
        const particleGroup = document.getElementById("particle-group");
        const nose = document.getElementById("nose");
        const lines = Array.from(document.querySelectorAll("#rain-lines line"));

        let mouseX = 0, mouseY = 0;
        let angle = 0;
        let colorIdx = 0;

        // 1. 瞳の色ループ & まばたき
        setInterval(() => {
            eyes.forEach(e => e.setAttribute("fill", colors[colorIdx]));
            colorIdx = (colorIdx + 1) % colors.length;
        }, 300);

        setInterval(() => {
            eyes.forEach(e => e.setAttribute("ry", "0.1"));
            setTimeout(() => eyes.forEach(e => e.setAttribute("ry", "12")), 150);
        }, 3000);

        // 2. マウスイベント
        svg.addEventListener('mousemove', (e) => {
            const pt = svg.createSVGPoint();
            pt.x = e.clientX;
            pt.y = e.clientY;
            const svgP = pt.matrixTransform(svg.getScreenCTM().inverse());
            mouseX = svgP.x;
            mouseY = svgP.y;

            // ステッキ位置更新
            stickGroup.setAttribute("transform", `translate(${mouseX}, ${mouseY})`);

            // 瞳の追従 (基準座標を調整)
            eyes.forEach(eye => {
                const cx = parseFloat(eye.getAttribute("cx")) + 100;
                const cy = parseFloat(eye.getAttribute("cy")) + 150;
                const rad = Math.atan2(mouseY - cy, mouseX - cx);
                const ox = Math.cos(rad) * 5;
                const oy = Math.sin(rad) * 5;
                eye.setAttribute("transform", `translate(${ox}, ${oy})`);
            });
        });

        // 3. アニメーションループ (星の回転 & パーティクル生成)
        function animate() {
            angle += 0.15;
            const orbitX = Math.cos(angle) * 20;
            const orbitY = Math.sin(angle) * 20;
            starAnchor.setAttribute("transform", `translate(${orbitX}, ${orbitY})`);

            if (mouseX !== 0) {
                spawnParticle(mouseX + orbitX, mouseY + orbitY);
            }
            requestAnimationFrame(animate);
        }
        animate();

        function spawnParticle(x, y) {
            const p = document.createElementNS("http://www.w3.org/2000/svg", "rect");
            p.setAttribute("x", x - 4);
            p.setAttribute("y", y - 4);
            p.setAttribute("width", "8");
            p.setAttribute("height", "8");
            p.setAttribute("class", "particle");
            p.setAttribute("fill", colors[Math.floor(Math.random() * colors.length)]);
            
            particleGroup.appendChild(p);

            const dx = (Math.random() - 0.5) * 4;
            const dy = (Math.random() - 0.5) * 4;
            let opacity = 1;

            const moveP = setInterval(() => {
                opacity -= 0.05;
                const px = parseFloat(p.getAttribute("x")) + dx;
                const py = parseFloat(p.getAttribute("y")) + dy;
                p.setAttribute("x", px);
                p.setAttribute("y", py);
                p.setAttribute("opacity", opacity);
                p.setAttribute("transform", `scale(${opacity})`);
                p.style.transformOrigin = `${px}px ${py}px`;

                if (opacity <= 0) {
                    clearInterval(moveP);
                    p.remove();
                }
            }, 30);
        }

        // 4. 鼻のインタラクション
        let lineIntervals = [];
        nose.addEventListener("mouseenter", () => {
            lines.forEach((line, i) => {
                let lIdx = i % colors.length;
                const interval = setInterval(() => {
                    line.setAttribute("stroke", colors[lIdx]);
                    lIdx = (lIdx + 1) % colors.length;
                }, 150);
                lineIntervals.push(interval);
            });
        });
        nose.addEventListener("mouseleave", () => {
            lineIntervals.forEach(clearInterval);
            lineIntervals = [];
            lines.forEach(line => line.setAttribute("stroke", "black"));
        });

        
        document.addEventListener("DOMContentLoaded", () => {
        
            // - - 1. 定数と要素の取得 - - 
            
            const colors = [
                "red", "orange", "yellow",
                "green", "blue", "indigo", "violet"
            ];

            const eyeLeft = document.getElementById("eye-left");
            const eyeRight = document.getElementById("eye-right");
            
            if (!eyeLeft || !eyeRight) {
                console.warn("SVG eye elements (eye-left or eye-right) not found. Eye animations disabled.");
                return;
            }

            const nose = document.getElementById("nose");
            const tip = document.getElementById("magic-tip");
            const particles = document.getElementById("magic-particles");

            const lineIds = ["rain-line1", "rain-line3", "rain-line4", "rain-line6"]
            const lines = lineIds.map(id => document.getElementById(id)).filter(el => el != null);

            const colorline = colors; 

            <!-- let lineIndexes = lines.map((_, i) => i % colorline.length); -->
            // レインボーラインの色変化の速さ (400ms〜1000ms)
            <!-- let lineSpeeds = lines.map(() => 400 + Math.random() * 600);  -->

            const eyes = [
                { el: eyeLeft, maxOffset: 5 }, 
                { el: eyeRight, maxOffset: 5 }  
            ];

            let lookInterval = null;
            let mouseMoveTimer = null;
            const MOUSE_STOP_DELAY = 150; 
            const MAX_LOOK_OFFSET = 5; 

            
            //  2. 目の色ループロジック 
            let i = 0;
            setInterval(() => {
                eyeLeft.setAttribute("fill", colors[i]);
                eyeRight.setAttribute("fill", colors[i]);
                i = (i + 1) % colors.length;
            }, 300);

            
            // - - 3. レインボーラインの色ループロジック - - 
            
            lines.forEach((line, lineIndex) => {
                let currentIndex = lineIndexes[lineIndex];
                const speed = lineSpeeds[lineIndex];
                
                setInterval(() => {
                    line.setAttribute("stroke", colorline[currentIndex]);
                    currentIndex = (currentIndex + 1) % colorline.length;
                }, speed);
            });
            
            
            // - - 4. 目のアニメーション制御関数 - - 

            function startLookingAnimation() {
                if (lookInterval) return;

                eyes.forEach(eye => {
                    eye.el.style.transform = 'translate(0, 0)';
                });
                
                let currentPos = 0;
                let direction = 1; 
                // ステップを小さくし、動きを細かく
                const step = 0.2; 

                // 更新頻度を上げる
                lookInterval = setInterval(() => {
                    currentPos += direction * step;

                    if (currentPos >= MAX_LOOK_OFFSET) {
                        currentPos = MAX_LOOK_OFFSET;
                        direction = -1;
                    } else if (currentPos <= -MAX_LOOK_OFFSET) {
                        currentPos = -MAX_LOOK_OFFSET;
                        direction = 1;
                    }

                    eyes.forEach(eye => {
                        eye.el.style.transform = `translate(${currentPos}px, 0)`; 
                    });
                }, 20); 
            }

            function stopLookingAnimation() {
                if (lookInterval) {
                    clearInterval(lookInterval);
                    lookInterval = null;
                }
            }


            // - - 5. 実行ロジック - - 

            startLookingAnimation();

            document.addEventListener("mousemove", (e) => {
                stopLookingAnimation();

                const mouseX = e.clientX;
                const mouseY = e.clientY;

                eyes.forEach(eye => {
                    const eyeRect = eye.el.getBoundingClientRect();
                    
                    const eyeCenterX = eyeRect.left + eyeRect.width / 2;
                    const eyeCenterY = eyeRect.top + eyeRect.height / 2;

                    const angle = Math.atan2(mouseY - eyeCenterY, mouseX - eyeCenterX);
                    
                    const maxOffset = eye.maxOffset; 
                    const offsetX = Math.cos(angle) * maxOffset;
                    const offsetY = Math.sin(angle) * maxOffset;

                    eye.el.style.transform = `translate(${offsetX}px, ${offsetY}px)`;
                });

                clearTimeout(mouseMoveTimer);
                
                mouseMoveTimer = setTimeout(() => {
                    startLookingAnimation();
                }, MOUSE_STOP_DELAY);

            });
        });
        ]]>
    </script>
</svg>